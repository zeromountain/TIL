# 변수

## 변수란 무엇인고 왜 필요한가?

- 하나의 값을 저장히기 위해 확보한 메모리 공간을 피아식별하기 위한 이름
  - 값의 위치를 가리키는 이름표
- 애플리케이션에서 데이터를 입력받고 처리하고 출력하기 위해서 사용
- 변수에 여러 개의 값을 저장하는 방법
  - 배열이나 객체와 같은 자료 구조 사용

```js
// 하나의 값을 저장
let userId = 1;
let userName = 'Lee';

// 여러 개의 값을 하나로 그룹화해서 하나의 값처럼 저장
const user = { id: 1, name: 'Lee' };
const users = [
  { id: 1, name: 'Lee' },
  { id: 2, name: 'Kim' },
];
```

- `userId`라는 이름을 메모리에서 찾아서 1이라는 값에 접근
- `userName`이라는 이름을 메모리에서 찾아서 `'Lee'`라는 값에 접근

- 평가(evaluation)
- 리터럴(literal)
- 연산자(operator)
- 피연산자(operand)
- 표현식(expression)
- 해석(parsing)
- 메모리 → 메모리 셀의 집합체
- 메모리 주소 → 고유한 주소값
- 메모리 셀 → 1바이트(8비트)

- 변수 이름 → 메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름
- 변수 값 → 변수에 저장된 값
- 할당 → 변수에 값을 저장하는 것
- 참조 → 변수에 저장된 값을 읽어 들이는 것

## 식별자

- 어떤 값을 구별해서 식별할 수 있는 고유한 이름
  - 값이 저장된 메모리 주소와 매핑 관계 → 값이 아니라 메모리 주소를 기억

## 변수 선언

- 변수를 사용하겠다고 선언하는 약속이 필요
  - `var`, `let`, `const` 키워드 사용

> var 키워드의 문제점
>
> - 블록레벨스코프 미지원
> - 함수 레벨 스코프 지원 → 의도하지 않은 전역 변수 선언
> - 변수 선언부의 호이스팅

```js
var score;
```

- `0x0000F2`라는 메모리 주소에 `score` 변수 선언 → 해당 메모리 셀에 `undefined` 할당
  - 자바스크립트는 암묵적으로 변수에 값의 할당이 없는 경우에 `undefined`를 할당

> 자바스크립트 엔진의 변수 선언 2단계
>
> - 선언 단계
> - 초기화 단계

- 변수의 이름은 실행컨텍스트에 등록
  - 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과 관리
  - 식별자와 스코프 관리

## 변수 선언의 실행 시점과 변수 호이스팅

```js
console.log(score);

var score;
```

- 변수 선언문이 코드의 최상단으로 끌어 올려지는 현상
- `var`, `let`, `const`, `function`, `function*`, `class` 키워드를 사용해 선언하는 모든 식별자는 호이스팅된다.
  - TDZ(Temporal Dead Zone)

## 값의 할당

- 변수 선언 → 런타임 이전 실행
- 값의 할당 → 런타임에 실행

```js
console.log(score);

var score = 80;

console.log(score);
```

- 런타임 이전에 `0x000000F2`라는 메모리 주소에 score 변수 선언 → `undefined` 할당
- 런타임에 `0x00001332`라는 새로운 메모리 주소에 80이라는 값을 저장 → `score` 변수의 메모리 주소가 `0x000000F2`에서 `0x00001332`로 변경

## 값의 재할당

- 값이 할당되어 있는 변수에 새로운 값을 다시 할당하는 것

```js
var score = 80;
score = 90;
```

- 상수 → 값을 변경할 수 없는 값

  - `const` → 재할당이 불가능한 성질때문에, 상수를 선언할때 사용

- 값의 재할당으로 가비지 값이 발생하고 가비지 콜렉터에 의해 메모리에서 자동으로 해제되지만, 메모리에서 언제 해제될지 예측할 수 없다
  - 메모리 누수 방지

## 식별자 네이밍 규칙

- 특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($)
- 언더스코어(\_), 달러 기호($)로 시작 가능
- 예약어 사용 금지
- 의미없는 문자의 사용 지양

```js
var person, $elem, _name, first_name, val1; // ⭕️
var first-name; // ❌
var 1st; // ❌
var this; // ❌
var a = 1; // ❌
var num = 1; // ⭕️
var p = { name: 'Son' }; // ❌
var person = { name: 'Son' }; // ⭕️
```

- 카멜케이스 → 문자가 바뀌는 위치에 대문자로 작성
- 스네이크 케이스 → 문자가 바뀌는 위치에 언더스코어(\_) 사용
- 파스칼 케이스 → 시작글자 대문자, 문자가 바뀌는 위치에 대문자로 작성

```js
var firstName; // 카멜 케이스
var first_name; // 스네이크 케이스
var FirstName; // 파스칼 케이스

// 헝가리언 케이스
var strFirstName; // type+indentifier 타입 + 식별자
var $elem = document.getElementById('element'); // DOM
var observable$ = fromEvent(document, 'click'); // RxJS 옵저버블
```

> 출처 → 모던 자바스크립트 Deep Dive
