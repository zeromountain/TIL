[백준 11399번](https://www.acmicpc.net/problem/11399)

# ATM

## 문제 설명

인하은행에는 ATM이 1대밖에 없다. 지금 이 ATM앞에 N명의 사람들이 줄을 서있다. 사람은 1번부터 N번까지 번호가 매겨져 있으며, i번 사람이 돈을 인출하는데 걸리는 시간은 Pi분이다.

사람들이 줄을 서는 순서에 따라서, 돈을 인출하는데 필요한 시간의 합이 달라지게 된다. 예를 들어, 총 5명이 있고, P1 = 3, P2 = 1, P3 = 4, P4 = 3, P5 = 2 인 경우를 생각해보자. `[1, 2, 3, 4, 5]` 순서로 줄을 선다면, 1번 사람은 3분만에 돈을 뽑을 수 있다. 2번 사람은 1번 사람이 돈을 뽑을 때 까지 기다려야 하기 때문에, 3+1 = 4분이 걸리게 된다. 3번 사람은 1번, 2번 사람이 돈을 뽑을 때까지 기다려야 하기 때문에, 총 3+1+4 = 8분이 필요하게 된다. 4번 사람은 3+1+4+3 = 11분, 5번 사람은 3+1+4+3+2 = 13분이 걸리게 된다. 이 경우에 각 사람이 돈을 인출하는데 필요한 시간의 합은 3+4+8+11+13 = 39분이 된다.

줄을 `[2, 5, 1, 4, 3]` 순서로 줄을 서면, 2번 사람은 1분만에, 5번 사람은 1+2 = 3분, 1번 사람은 1+2+3 = 6분, 4번 사람은 1+2+3+3 = 9분, 3번 사람은 1+2+3+3+4 = 13분이 걸리게 된다. 각 사람이 돈을 인출하는데 필요한 시간의 합은 1+3+6+9+13 = 32분이다. 이 방법보다 더 필요한 시간의 합을 최소로 만들 수는 없다.

> 줄을 서 있는 사람의 수 N과 각 사람이 돈을 인출하는데 걸리는 시간 Pi가 주어졌을 때, 각 사람이 돈을 인출하는데 필요한 시간의 합의 최솟값을 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에 사람의 수 N(1 ≤ N ≤ 1,000)이 주어진다. 둘째 줄에는 각 사람이 돈을 인출하는데 걸리는 시간 Pi가 주어진다. (1 ≤ Pi ≤ 1,000)

## 출력

첫째 줄에 각 사람이 돈을 인출하는데 필요한 시간의 합의 최솟값을 출력한다.

## 예제 입력 1

> 5
>
> 3 1 4 3 2

## 예제 출력 1

> 32

# 문제 접근

- 처음 문제를 봤을때, 누적값을 구한것이라고 생각했다.
- 그래서 누적값을 구하는데 왜 굳이 정렬까지 해야하나 생각했었는데 단순하게 누적값을 산출하는 문제가 아니었다.
- 문제에서 주어지는 예제 입력값은 `5`명의 사람의 수와 `3 1 4 3 2`라는 각 사람마다 돈을 인출하는데 걸리는 시간의 리스트가 주어진다.
- 5명의 사람의 각각의 인출 시간은 다음과 같다.
  - `P1` 사람의 인출 시간은 3분
  - `P2` 사람의 인출 시간은 1분
  - `P3` 사람의 인출 시간은 4분
  - `P4` 사람의 인출 시간은 3분
  - `P5` 사람의 인출 시간은 2분
- `P1~P5`의 5명의 사람이 [P1, P2, P3, P4, P5]의 순서라면 각 사람이 송금을 보내기 위해서 걸리는 시간은 다음과 같다.
  - `P1` 🕰 대기시간: 0분 🕰 인출 시간: 3분 → 총 시간: 3분
  - `P2` 🕰 대기시간: 3분 🕰 인출 시간: 1분 → 총 시간: 4분
  - `P3` 🕰 대기시간: 4분 🕰 인출 시간: 4분 → 총 시간: 8분
  - `P4` 🕰 대기시간: 8분 🕰 인출 시간: 3분 → 총 시간: 11분
  - `P5` 🕰 대기시간: 11분 🕰 인출 시간: 2분 → 총 시간: 13분
- 반면, 인출 시간이 최저인 사람순으로 [P2, P5, P1, P4, P3]로 오름차순 정렬한 경우에 각 사람이 송금을 보내기 위해서 걸리는 시간은 다음과 같다.
  - `P2` 🕰 대기 시간: 0분 🕰 인출 시간: 1분 → 총 시간: 1분
  - `P5` 🕰 대기 시간: 1분 🕰 인출 시간: 2분 → 총 시간: 3분
  - `P1` 🕰 대기 시간: 3분 🕰 인출 시간: 3분 → 총 시간: 6분
  - `P4` 🕰 대기 시간: 6분 🕰 인출 시간: 3분 → 총 시간: 9분
  - `P3` 🕰 대기 시간: 9분 🕰 인출 시간: 4분 → 총 시간: 13분
- 두 가지 정렬의 인출 시간의 총합을 구하면 다음과 같다.
  - 사람의 번호 순대로 → 총합: 3 + 4 + 8 + 11 + 13 ﹦ 39
  - 시간 순서대로 → 총합: 1 + 3 + 6 + 9 + 13 ﹦ 32
- 비교해보면, 사람의 번호순으로 정렬하는 것보다 인출 시간의 최저순으로 오름차순 정렬하는 것이 최저값에 가깝다는 것을 알 수 있다.

# 문제 풀이

```js
function solution(n, arr) {
  let sortedArray = arr.sort(function (a, b) {
    return a - b;
  });

  let sum = 0;
  for (let i = 0; i < n; i++) {
    for (let j = 0; j <= i; j++) {
      sum += sortedArray[j];
    }
  }
  console.log(sum);
  return sum;
}

const readline = require('readline');
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
});

let input = [];
rl.on('line', function (line) {
  input.push(line);
  console.log(input);
}).on('close', function () {
  let n = parseInt(input[0]);

  let arr = input[1].split(' ').map((el) => parseInt(el));
  solution(n, arr);
  process.exit();
});
```

## solution 함수

- 먼저, 입력값으로 받은 인출 시간의 배열을 오름차순 정렬한다.
- 사람의 수만큼 반복하며 정렬된 시간의 배열을 순회하며 `sum`값을 누적한다.
  - i를 기준으로 j의 값이 정해지기 때문에 각 사람의 총 시간을 누적시킬 수 있다.

## common JS

- `readline`은 CLI를 통해서 입력값을 받을 수 있도록 도와주는 node의 기본 내장 모듈이다.
- `on` 메서드를 통해서 이벤트 함수를 등록할 수 있다.
  - `line` → 커맨드라인을 통해서 입력 값을 받을 경우 콜백함수를 실행한다.
    - 입력 값을 `input` 배열에 push 한다.
  - `close` → node 프로그램을 종료하면 이후의 콜백함수를 실행한다.
    - `close` 이벤트가 발생하는 경우는 프로그램을 종료하는 것말고 3가지가 더 있다. [close event](https://nodejs.org/dist/latest-v14.x/docs/api/readline.html#readline_event_close)
    - CLI를 통해서 첫번째로 입력받은 사람의 수를 정수로 형변환해 변수에 저장한다.
    - CLI를 통해서 두번째로 입력받은 인출 시간 리스트를 `split` 메서드로 배열화하고 해당 배열의 요소들을 정수로 형변환해준다.

# 느낀점

- 프로그래머스의 문제만 풀다가 백준의 문제를 풀어보면, 백지장에 코드를 작성하는 느낌이어서 쉽게 해결할 수 있는 문제임에도 어렵게 느껴졌다.

- 입력예제나 출력예제도 노드 기반의 common JS를 사용해서 이질감이 들었지만, node js 공식문서를 참조하면서 노드에서 common JS의 사용법을 익히며 적용할 수 있었다.

- 이중 `for loop`을 통해서 구현했기 때문에, 주어진 입력값의 범위 내에서는 문제가 없지만, 입력값이 극단적으로 커지게 될 경우에 최선의 방법은 무엇일지 고민해 봐야할 것 같다.
